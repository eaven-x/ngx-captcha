!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("rxjs"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@binssoft/ngx-captcha",["exports","@angular/core","rxjs","@angular/forms"],o):o(((t=t||self).binssoft=t.binssoft||{},t.binssoft["ngx-captcha"]={}),t.ng.core,t.rxjs,t.ng.forms)}(this,(function(t,o,e,n){"use strict";var c=function(){function t(){this.captchSource=new e.BehaviorSubject(null),this.captchStatus=this.captchSource.asObservable()}return t.prototype.setCaptchaStatus=function(t){this.captchSource.next(t)},t.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=o.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var i=function(){function t(t){this.captchService=t,this.config={},this.captch_input=null,this.code=null,this.resultCode=null}return t.prototype.ngOnChanges=function(){this.config&&(this.config.font&&this.config.font.size||(this.config.font.size="40px"),this.config.font&&this.config.font.family||(this.config.font.family="Arial"),this.config.strokeColor||(this.config.strokeColor="#f20c6c"),this.config.length||(this.config.length=6),this.config.cssClass||(this.config.cssClass=""),this.config.type||(this.config.type=1),this.config.back&&this.config.back.stroke||(this.config.back.stroke=""),this.config.back&&this.config.back.solid||(this.config.back.solid="#f2efd2"),this.createCaptcha())},t.prototype.createCaptcha=function(){var t=this;switch(this.config.type){case 1:var o=Math.random().toString(24).substring(2,this.config.length)+Math.random().toString(24).substring(2,4);this.code=this.resultCode=o.toUpperCase();break;case 2:var e=Math.floor(99*Math.random()),n=Math.floor(9*Math.random()),c=["+","-"],i=c[Math.floor(Math.random()*c.length)];this.code=e+i+n+"=?",this.resultCode="+"==i?e+n:e-n}setTimeout((function(){var o=document.getElementById("captcahCanvas"),e=o.getContext("2d");if(e.fillStyle=t.config.back.solid,e.fillRect(0,0,o.width,o.height),e.beginPath(),o.style.letterSpacing="15px",e.font=t.config.font.size+" "+t.config.font.family,e.fillStyle=t.config.font.color,e.textBaseline="middle",e.fillText(t.code,40,50),t.config.back.stroke){e.strokeStyle=t.config.back.stroke;for(var n=0;n<150;n++)e.moveTo(300*Math.random(),300*Math.random()),e.lineTo(300*Math.random(),300*Math.random());e.stroke()}}),100)},t.prototype.playCaptcha=function(){var t=new SpeechSynthesisUtterance(this.code.split("").join(" "));t.pitch=.1,window.speechSynthesis.speak(t)},t.prototype.checkCaptcha=function(){this.captch_input!=this.resultCode?this.captchService.setCaptchaStatus(!1):this.captchService.setCaptchaStatus(!0)},t.decorators=[{type:o.Component,args:[{selector:"ngx-captcha",template:'<div class="captcha-container {{ config.cssClass}}">\r\n    <canvas id="captcahCanvas" width="316" height="80"></canvas>\r\n    \r\n\r\n    <div class="captcha-actions">\r\n  <input type="text" [(ngModel)]="captch_input" />\r\n  <input type="button" value="Check" (click)="checkCaptcha()" />\r\n    <a href="javascript:void(0)" class="cpt-btn reload" (click)="createCaptcha()">&#x21bb;</a>\r\n</div>\r\n<div class="powered-by">\r\n  powered by BinsSoft\r\n</div>\r\n</div>',styles:[".captcha-container{width:315px;box-shadow:1px 1px 1px 0 #ccc}.captcha-actions input[type=text]{padding:5px;border:1px solid #ccc;border-radius:10px 0 0 10px;outline:0}.captcha-actions input[type=button]{outline:0;padding:6px;border:none;background:#ccc;border-radius:0 10px 10px 0}.captcha-actions a{padding:10px;cursor:pointer;font-size:15px;font-weight:700;text-decoration:none;color:#222}.captcha-container .powered-by{font-size:11px;font-family:Arial;color:#ccc;padding:5px;display:block!important}"]}]}],t.ctorParameters=function(){return[{type:c}]},t.propDecorators={config:[{type:o.Input,args:["config"]}]},t}();var a=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[c]}},t.decorators=[{type:o.NgModule,args:[{declarations:[i],imports:[n.FormsModule],exports:[i]}]}],t}();t.NgxCaptchaComponent=i,t.NgxCaptchaModule=a,t.NgxCaptchaService=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=binssoft-ngx-captcha.umd.min.js.map
